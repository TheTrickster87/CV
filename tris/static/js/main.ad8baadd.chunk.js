(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(8),s=a.n(i),l=a(1),u=a(2),c=a(4),o=a(3),m=a(5),h=a(6),d=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this,e="RESET";return this.props.messaggio&&(e=this.props.messaggio),r.a.createElement("div",null,r.a.createElement("button",{className:"btn-toolset ",onClick:function(){t.props.upDateGame(),t.props.resetFunction()}},e))}}]),e}(r.a.Component),f=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("button",{className:this.getBoxClassName(),onClick:function(){return t.props.onClick()}},this.props.value)}},{key:"getBoxClassName",value:function(){return this.props.winningSquare?"square winsquare":"square"}}]),e}(r.a.Component);function p(t){for(var e=0;e<t.length;e++)if(null===t[e])return!1;return!0}var v=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(c.a)(this,Object(o.a)(e).call(this,t))).state={date:new Date},a.tickID=0,a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"tick",value:function(){this.setState({date:new Date}),this.props.boardTick()}},{key:"componentDidMount",value:function(){var t=this;this.tickID=setInterval((function(){t.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.tickID)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Ora esatta: ",this.state.date.toLocaleTimeString()))}}]),e}(r.a.Component),E=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(c.a)(this,Object(o.a)(e).call(this,t))).winPosition=!1,a.state={squares:Array(9).fill(null),xIsNext:!0,winnerX:0,winnerO:0,draw:0,duration:Array(2).fill(0),timeX:Array(2).fill(0),timeO:Array(2).fill(0)},a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"updateStats",value:function(t){var e=this.calculateWinner(t),a=p(t);if("X"===e)this.setState({winnerX:this.state.winnerX+1});else if("O"===e)this.setState({winnerO:this.state.winnerO+1});else if(a){var n={draw:this.state.draw+1};this.setState(n)}}},{key:"countMinute",value:function(t){return t[1]>=60?(t[1]=0,t[0]++):t[1]++,t}},{key:"tick",value:function(){var t=this.countMinute(this.state.duration),e=this.state.timeX,a=this.state.timeO;this.setState({duration:t}),this.state.xIsNext?(e=this.countMinute(e),this.setState({timeX:e})):this.state.xIsNext||(a=this.countMinute(a),this.setState({timeO:a}))}},{key:"calculateWinner",value:function(t){for(var e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<e.length;a++){var n=Object(h.a)(e[a],3),r=n[0],i=n[1],s=n[2];if(t[r]===t[i]&&t[r]===t[s]&&t[r])return this.saveWinPosition(e[a]),t[r]}}},{key:"saveWinPosition",value:function(t){this.winPosition=t}},{key:"handleClick",value:function(t){if(!this.calculateWinner(this.state.squares)&&!this.state.squares[t]){var e=this.state.squares.slice();e[t]=this.state.xIsNext?"X":"O",this.updateStats(e),this.setState({squares:e,xIsNext:!this.state.xIsNext})}}},{key:"resetSquares",value:function(){var t=this.calculateWinner(this.state.squares);this.winPosition=!1,this.setState({squares:Array(9).fill(null),xIsNext:!t||"X"!==t,duration:[0,0],timeO:[0,0],timeX:[0,0]})}},{key:"renderSquare",value:function(t){var e,a=this;if(this.winPosition){var n=Object(h.a)(this.winPosition,3),i=n[0],s=n[1],l=n[2];e=t===i||t===s||t===l}return r.a.createElement(f,{winningSquare:e,value:this.state.squares[t],onClick:function(){return a.handleClick(t)}})}},{key:"render",value:function(){var t,e=this,a=this.calculateWinner(this.state.squares),n=p(this.state.squares),i=this.state.duration,s=!1;a?t="Winner is:"+a+" !":n?(t="Partita in Pareggio!",s=!0):t="Next player: "+(this.state.xIsNext?"X":"O");var l=[a,i,this.state.timeX,this.state.timeO];return r.a.createElement("div",null,r.a.createElement("div",{className:"status"},r.a.createElement("h1",null,t)),a?r.a.createElement(d,{isVisualizzato:a,info:l,upDateGame:function(){return e.props.upDateGame(l)},resetFunction:function(){return e.resetSquares()},messaggio:"Congratulazioni ! Un'altra partita?"}):null,s?r.a.createElement(d,{isVisualizzato:s,info:l,upDateGame:function(){return e.props.upDateGame(l)},resetFunction:function(){return e.resetSquares()},messaggio:"Accidenti! Un'altra partita?"}):null,r.a.createElement("div",{className:"board"},r.a.createElement("div",{className:"board-row"},this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)),r.a.createElement("div",{className:"board-row"},this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)),r.a.createElement("div",{className:"board-row"},this.renderSquare(6),this.renderSquare(7),this.renderSquare(8))),a||s?null:r.a.createElement(v,{boardTick:function(){return e.tick()}}),r.a.createElement("div",null,r.a.createElement("table",{className:"stat-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Durata partita: "),r.a.createElement("td",null,this.state.duration[0],":",this.state.duration[1]),r.a.createElement("td",null),r.a.createElement("td",null)),r.a.createElement("tr",null,r.a.createElement("td",null,"Vittorie X:"),r.a.createElement("td",null,this.state.winnerX),r.a.createElement("td",null,"timer"),r.a.createElement("td",null,this.state.timeX[0],":",this.state.timeX[1])),r.a.createElement("tr",null,r.a.createElement("td",null,"Vittorie O:"),r.a.createElement("td",null,this.state.winnerO),r.a.createElement("td",null,"timer"),r.a.createElement("td",null,this.state.timeO[0],":",this.state.timeO[1])),r.a.createElement("tr",null,r.a.createElement("td",null,"Pareggi:"),r.a.createElement("td",null," ",this.state.draw),r.a.createElement("td",null),r.a.createElement("td",null))))))}}]),e}(r.a.Component),b=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("button",{className:"btn-toolset",onClick:function(){t.props.clear()}}," ","Clear History"))}}]),e}(r.a.Component),O=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t,e=this;return t=this.calcolaMedia(this.props.Game),r.a.createElement("div",null,r.a.createElement("div",{className:"history"},r.a.createElement("h3",null,"Game History"),r.a.createElement("table",{className:"stat-table statistic"},r.a.createElement("tbody",null,this.props.Game.map((function(t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,"Partita: ",t[4]," "),r.a.createElement("td",null,"Vincitore:",t[0]?t[0]:"DRAW"," "),r.a.createElement("td",null,"DurataPartita: ",t[1][0],":",t[1][1]),r.a.createElement("td",null,"X-Time: ",t[2][0],":",t[2][1]),r.a.createElement("td",null,"O-Time: ",t[3][0],":",t[3][1]))})),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null," ","Media Partite: ",t[0],":",t[1]),r.a.createElement("td",null),r.a.createElement("td",null)))),r.a.createElement(b,{clear:function(){return e.props.clear()}})))}},{key:"calcolaMedia",value:function(t){if(0===t.length)return[0,0];for(var e,a=0,n=0,r=0,i=t.length,s=[],l=0;l<i;l++){a+=t[l][1][0],n+=t[l][1][1]}for(e=60*a+n,n=0,a=0;r<e;)r++,n>=60&&(a++,n=0),n++;return a=Math.floor(a/i),n=Math.floor(n/i),s.push(a),s.push(n),s}}]),e}(r.a.Component),y=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(c.a)(this,Object(o.a)(e).call(this,t))).state={Match:1,Game:[]},a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"upDateGame",value:function(t){var e=this.state.Game.slice();t.push(this.state.Match),e.push(t),this.setState({Game:e,Match:this.state.Match+1})}},{key:"clearHistory",value:function(){this.setState({Match:1,Game:[]})}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game-board"},r.a.createElement(E,{upDateGame:function(e){return t.upDateGame(e)}})),r.a.createElement("div",{className:"game-info"},r.a.createElement(O,{Game:this.state.Game,Match:this.state.Match,clear:function(){return t.clearHistory()}}),r.a.createElement("ol",null)))}}]),e}(r.a.Component);a(14);s.a.render(r.a.createElement(y,null),document.getElementById("root"))},9:function(t,e,a){t.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.ad8baadd.chunk.js.map